<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Simulation sequence | mrgsolve User Guide</title>
  <meta name="description" content="A guide to using mrgsolve." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Simulation sequence | mrgsolve User Guide" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://mrgsolve.github.io/user_guide/" />
  
  <meta property="og:description" content="A guide to using mrgsolve." />
  <meta name="github-repo" content="mrgsolve/user_guide" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Simulation sequence | mrgsolve User Guide" />
  <meta name="twitter:site" content="@mrgsolve" />
  <meta name="twitter:description" content="A guide to using mrgsolve." />
  

<meta name="author" content="Metrum Research Group" />


<meta name="date" content="2022-02-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="simulated-output.html"/>
<link rel="next" href="steady-state.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="bookstyle.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">User Guide: mrgsolve</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other Resources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="model-components.html"><a href="model-components.html"><i class="fa fa-check"></i><b>1</b> Model components</a>
<ul>
<li class="chapter" data-level="1.1" data-path="model-components.html"><a href="model-components.html#component-param"><i class="fa fa-check"></i><b>1.1</b> Parameter list</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="model-components.html"><a href="model-components.html#central-role-of-parameters-in-planning-simulations"><i class="fa fa-check"></i><b>1.1.1</b> Central role of parameters in planning simulations</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="model-components.html"><a href="model-components.html#component-init"><i class="fa fa-check"></i><b>1.2</b> Compartment list</a></li>
<li class="chapter" data-level="1.3" data-path="model-components.html"><a href="model-components.html#component-stime"><i class="fa fa-check"></i><b>1.3</b> Simulation time grid</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="model-components.html"><a href="model-components.html#component-tgrid"><i class="fa fa-check"></i><b>1.3.1</b> <code>tgrid</code> objects</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="model-components.html"><a href="model-components.html#solver-settings"><i class="fa fa-check"></i><b>1.4</b> Solver settings</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="model-components.html"><a href="model-components.html#atol"><i class="fa fa-check"></i><b>1.4.1</b> <code>atol</code></a></li>
<li class="chapter" data-level="1.4.2" data-path="model-components.html"><a href="model-components.html#rtol"><i class="fa fa-check"></i><b>1.4.2</b> <code>rtol</code></a></li>
<li class="chapter" data-level="1.4.3" data-path="model-components.html"><a href="model-components.html#maxsteps"><i class="fa fa-check"></i><b>1.4.3</b> <code>maxsteps</code></a></li>
<li class="chapter" data-level="1.4.4" data-path="model-components.html"><a href="model-components.html#hmax"><i class="fa fa-check"></i><b>1.4.4</b> <code>hmax</code></a></li>
<li class="chapter" data-level="1.4.5" data-path="model-components.html"><a href="model-components.html#hmin"><i class="fa fa-check"></i><b>1.4.5</b> <code>hmin</code></a></li>
<li class="chapter" data-level="1.4.6" data-path="model-components.html"><a href="model-components.html#ixpr"><i class="fa fa-check"></i><b>1.4.6</b> <code>ixpr</code></a></li>
<li class="chapter" data-level="1.4.7" data-path="model-components.html"><a href="model-components.html#mxhnil"><i class="fa fa-check"></i><b>1.4.7</b> <code>mxhnil</code></a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="model-components.html"><a href="model-components.html#functions"><i class="fa fa-check"></i><b>1.5</b> Functions</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="model-components.html"><a href="model-components.html#the-preamble-function"><i class="fa fa-check"></i><b>1.5.1</b> The <code>$PREAMBLE</code> function</a></li>
<li class="chapter" data-level="1.5.2" data-path="model-components.html"><a href="model-components.html#the-main-function"><i class="fa fa-check"></i><b>1.5.2</b> The <code>$MAIN</code> function</a></li>
<li class="chapter" data-level="1.5.3" data-path="model-components.html"><a href="model-components.html#the-ode-function"><i class="fa fa-check"></i><b>1.5.3</b> The <code>$ODE</code> function</a></li>
<li class="chapter" data-level="1.5.4" data-path="model-components.html"><a href="model-components.html#the-table-function"><i class="fa fa-check"></i><b>1.5.4</b> The <code>$TABLE</code> function</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="model-components.html"><a href="model-components.html#random-effect-variances"><i class="fa fa-check"></i><b>1.6</b> Random effect variances</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="model-components.html"><a href="model-components.html#omega"><i class="fa fa-check"></i><b>1.6.1</b> <code>OMEGA</code></a></li>
<li class="chapter" data-level="1.6.2" data-path="model-components.html"><a href="model-components.html#sigma"><i class="fa fa-check"></i><b>1.6.2</b> <code>SIGMA</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="model-specification.html"><a href="model-specification.html"><i class="fa fa-check"></i><b>2</b> Model specification</a>
<ul>
<li class="chapter" data-level="2.1" data-path="model-specification.html"><a href="model-specification.html#how-where-to-write-a-model"><i class="fa fa-check"></i><b>2.1</b> How / where to write a model</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="model-specification.html"><a href="model-specification.html#spec-separate-file"><i class="fa fa-check"></i><b>2.1.1</b> Separate file</a></li>
<li class="chapter" data-level="2.1.2" data-path="model-specification.html"><a href="model-specification.html#spec-inline"><i class="fa fa-check"></i><b>2.1.2</b> Inline / <code>code</code>  </a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="model-specification.html"><a href="model-specification.html#code-blocks"><i class="fa fa-check"></i><b>2.2</b> Code blocks</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="model-specification.html"><a href="model-specification.html#about-code-blocks"><i class="fa fa-check"></i><b>2.2.1</b> About code blocks</a></li>
<li class="chapter" data-level="2.2.2" data-path="model-specification.html"><a href="model-specification.html#programmatic-or-bulk-initialization"><i class="fa fa-check"></i><b>2.2.2</b> Programmatic or bulk initialization</a></li>
<li class="chapter" data-level="2.2.3" data-path="model-specification.html"><a href="model-specification.html#block-prob"><i class="fa fa-check"></i><b>2.2.3</b> <code>$PROB</code>  </a></li>
<li class="chapter" data-level="2.2.4" data-path="model-specification.html"><a href="model-specification.html#block-param"><i class="fa fa-check"></i><b>2.2.4</b> <code>$PARAM</code>  </a></li>
<li class="chapter" data-level="2.2.5" data-path="model-specification.html"><a href="model-specification.html#block-fixed"><i class="fa fa-check"></i><b>2.2.5</b> <code>$FIXED</code>  </a></li>
<li class="chapter" data-level="2.2.6" data-path="model-specification.html"><a href="model-specification.html#cmt-and-init"><i class="fa fa-check"></i><b>2.2.6</b> <code>$CMT</code> and <code>$INIT</code></a></li>
<li class="chapter" data-level="2.2.7" data-path="model-specification.html"><a href="model-specification.html#block-main"><i class="fa fa-check"></i><b>2.2.7</b> <code>$MAIN</code>  </a></li>
<li class="chapter" data-level="2.2.8" data-path="model-specification.html"><a href="model-specification.html#block-pk"><i class="fa fa-check"></i><b>2.2.8</b> <code>$PK</code>  </a></li>
<li class="chapter" data-level="2.2.9" data-path="model-specification.html"><a href="model-specification.html#block-ode"><i class="fa fa-check"></i><b>2.2.9</b> <code>$ODE</code>  </a></li>
<li class="chapter" data-level="2.2.10" data-path="model-specification.html"><a href="model-specification.html#block-des"><i class="fa fa-check"></i><b>2.2.10</b> <code>$DES</code>  </a></li>
<li class="chapter" data-level="2.2.11" data-path="model-specification.html"><a href="model-specification.html#block-table"><i class="fa fa-check"></i><b>2.2.11</b> <code>$TABLE</code>  </a></li>
<li class="chapter" data-level="2.2.12" data-path="model-specification.html"><a href="model-specification.html#block-error"><i class="fa fa-check"></i><b>2.2.12</b> <code>$ERROR</code>  </a></li>
<li class="chapter" data-level="2.2.13" data-path="model-specification.html"><a href="model-specification.html#block-preamble"><i class="fa fa-check"></i><b>2.2.13</b> <code>$PREAMBLE</code>  </a></li>
<li class="chapter" data-level="2.2.14" data-path="model-specification.html"><a href="model-specification.html#block-pred"><i class="fa fa-check"></i><b>2.2.14</b> <code>$PRED</code>  </a></li>
<li class="chapter" data-level="2.2.15" data-path="model-specification.html"><a href="model-specification.html#block-capture"><i class="fa fa-check"></i><b>2.2.15</b> <code>$CAPTURE</code>  </a></li>
<li class="chapter" data-level="2.2.16" data-path="model-specification.html"><a href="model-specification.html#block-omega"><i class="fa fa-check"></i><b>2.2.16</b> <code>$OMEGA</code>  </a></li>
<li class="chapter" data-level="2.2.17" data-path="model-specification.html"><a href="model-specification.html#block-sigma"><i class="fa fa-check"></i><b>2.2.17</b> <code>$SIGMA</code>  </a></li>
<li class="chapter" data-level="2.2.18" data-path="model-specification.html"><a href="model-specification.html#set"><i class="fa fa-check"></i><b>2.2.18</b> <code>$SET</code></a></li>
<li class="chapter" data-level="2.2.19" data-path="model-specification.html"><a href="model-specification.html#global"><i class="fa fa-check"></i><b>2.2.19</b> <code>$GLOBAL</code></a></li>
<li class="chapter" data-level="2.2.20" data-path="model-specification.html"><a href="model-specification.html#pkmodel"><i class="fa fa-check"></i><b>2.2.20</b> <code>$PKMODEL</code></a></li>
<li class="chapter" data-level="2.2.21" data-path="model-specification.html"><a href="model-specification.html#block-plugin"><i class="fa fa-check"></i><b>2.2.21</b> <code>$PLUGIN</code>  </a></li>
<li class="chapter" data-level="2.2.22" data-path="model-specification.html"><a href="model-specification.html#block-theta"><i class="fa fa-check"></i><b>2.2.22</b> <code>$THETA</code>  </a></li>
<li class="chapter" data-level="2.2.23" data-path="model-specification.html"><a href="model-specification.html#block-nmxml"><i class="fa fa-check"></i><b>2.2.23</b> <code>$NMXML</code>  </a></li>
<li class="chapter" data-level="2.2.24" data-path="model-specification.html"><a href="model-specification.html#block-nmext"><i class="fa fa-check"></i><b>2.2.24</b> <code>$NMEXT</code>  </a></li>
<li class="chapter" data-level="2.2.25" data-path="model-specification.html"><a href="model-specification.html#block-include"><i class="fa fa-check"></i><b>2.2.25</b> <code>$INCLUDE</code>  </a></li>
<li class="chapter" data-level="2.2.26" data-path="model-specification.html"><a href="model-specification.html#block-env"><i class="fa fa-check"></i><b>2.2.26</b> <code>$ENV</code>  </a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="model-specification.html"><a href="model-specification.html#variables-macros"><i class="fa fa-check"></i><b>2.3</b> Variables and Macros</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="model-specification.html"><a href="model-specification.html#id"><i class="fa fa-check"></i><b>2.3.1</b> <code>ID</code></a></li>
<li class="chapter" data-level="2.3.2" data-path="model-specification.html"><a href="model-specification.html#time"><i class="fa fa-check"></i><b>2.3.2</b> <code>TIME</code></a></li>
<li class="chapter" data-level="2.3.3" data-path="model-specification.html"><a href="model-specification.html#solvertime"><i class="fa fa-check"></i><b>2.3.3</b> <code>SOLVERTIME</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="model-specification.html"><a href="model-specification.html#t"><i class="fa fa-check"></i><b>2.3.4</b> <code>T</code></a></li>
<li class="chapter" data-level="2.3.5" data-path="model-specification.html"><a href="model-specification.html#evid"><i class="fa fa-check"></i><b>2.3.5</b> <code>EVID</code></a></li>
<li class="chapter" data-level="2.3.6" data-path="model-specification.html"><a href="model-specification.html#cmt"><i class="fa fa-check"></i><b>2.3.6</b> <code>CMT</code></a></li>
<li class="chapter" data-level="2.3.7" data-path="model-specification.html"><a href="model-specification.html#amt"><i class="fa fa-check"></i><b>2.3.7</b> <code>AMT</code></a></li>
<li class="chapter" data-level="2.3.8" data-path="model-specification.html"><a href="model-specification.html#newind"><i class="fa fa-check"></i><b>2.3.8</b> <code>NEWIND</code></a></li>
<li class="chapter" data-level="2.3.9" data-path="model-specification.html"><a href="model-specification.html#ss_advance"><i class="fa fa-check"></i><b>2.3.9</b> <code>SS_ADVANCE</code></a></li>
<li class="chapter" data-level="2.3.10" data-path="model-specification.html"><a href="model-specification.html#simeta"><i class="fa fa-check"></i><b>2.3.10</b> <code>simeta()</code></a></li>
<li class="chapter" data-level="2.3.11" data-path="model-specification.html"><a href="model-specification.html#simeps"><i class="fa fa-check"></i><b>2.3.11</b> <code>simeps()</code></a></li>
<li class="chapter" data-level="2.3.12" data-path="model-specification.html"><a href="model-specification.html#self-object"><i class="fa fa-check"></i><b>2.3.12</b> <code>self</code>  </a></li>
<li class="chapter" data-level="2.3.13" data-path="model-specification.html"><a href="model-specification.html#self.cmt"><i class="fa fa-check"></i><b>2.3.13</b> <code>self.cmt</code></a></li>
<li class="chapter" data-level="2.3.14" data-path="model-specification.html"><a href="model-specification.html#self.amt"><i class="fa fa-check"></i><b>2.3.14</b> <code>self.amt</code></a></li>
<li class="chapter" data-level="2.3.15" data-path="model-specification.html"><a href="model-specification.html#self.nid"><i class="fa fa-check"></i><b>2.3.15</b> <code>self.nid</code></a></li>
<li class="chapter" data-level="2.3.16" data-path="model-specification.html"><a href="model-specification.html#self.idn"><i class="fa fa-check"></i><b>2.3.16</b> <code>self.idn</code></a></li>
<li class="chapter" data-level="2.3.17" data-path="model-specification.html"><a href="model-specification.html#self.nrow"><i class="fa fa-check"></i><b>2.3.17</b> <code>self.nrow</code></a></li>
<li class="chapter" data-level="2.3.18" data-path="model-specification.html"><a href="model-specification.html#self.rown"><i class="fa fa-check"></i><b>2.3.18</b> <code>self.rown</code></a></li>
<li class="chapter" data-level="2.3.19" data-path="model-specification.html"><a href="model-specification.html#self.envir"><i class="fa fa-check"></i><b>2.3.19</b> <code>self.envir</code></a></li>
<li class="chapter" data-level="2.3.20" data-path="model-specification.html"><a href="model-specification.html#self-tad"><i class="fa fa-check"></i><b>2.3.20</b> <code>self.tad()</code>  </a></li>
<li class="chapter" data-level="2.3.21" data-path="model-specification.html"><a href="model-specification.html#self.mtime"><i class="fa fa-check"></i><b>2.3.21</b> <code>self.mtime(&lt;time&gt;)</code>  </a></li>
<li class="chapter" data-level="2.3.22" data-path="model-specification.html"><a href="model-specification.html#self.meventtime-evid"><i class="fa fa-check"></i><b>2.3.22</b> <code>self.mevent(&lt;time&gt;, &lt;evid&gt;)</code></a></li>
<li class="chapter" data-level="2.3.23" data-path="model-specification.html"><a href="model-specification.html#self.stop"><i class="fa fa-check"></i><b>2.3.23</b> <code>self.stop()</code></a></li>
<li class="chapter" data-level="2.3.24" data-path="model-specification.html"><a href="model-specification.html#self.stop_id"><i class="fa fa-check"></i><b>2.3.24</b> <code>self.stop_id()</code></a></li>
<li class="chapter" data-level="2.3.25" data-path="model-specification.html"><a href="model-specification.html#self.stop_id_cf"><i class="fa fa-check"></i><b>2.3.25</b> <code>self.stop_id_cf()</code></a></li>
<li class="chapter" data-level="2.3.26" data-path="model-specification.html"><a href="model-specification.html#thetan"><i class="fa fa-check"></i><b>2.3.26</b> <code>THETA(n)</code></a></li>
<li class="chapter" data-level="2.3.27" data-path="model-specification.html"><a href="model-specification.html#etan"><i class="fa fa-check"></i><b>2.3.27</b> <code>ETA(n)</code></a></li>
<li class="chapter" data-level="2.3.28" data-path="model-specification.html"><a href="model-specification.html#epsn"><i class="fa fa-check"></i><b>2.3.28</b> <code>EPS(n)</code></a></li>
<li class="chapter" data-level="2.3.29" data-path="model-specification.html"><a href="model-specification.html#tablename"><i class="fa fa-check"></i><b>2.3.29</b> <code>table(&lt;name&gt;)</code></a></li>
<li class="chapter" data-level="2.3.30" data-path="model-specification.html"><a href="model-specification.html#spec-f"><i class="fa fa-check"></i><b>2.3.30</b> <code>F_CMT</code>  </a></li>
<li class="chapter" data-level="2.3.31" data-path="model-specification.html"><a href="model-specification.html#spec-alag"><i class="fa fa-check"></i><b>2.3.31</b> <code>ALAG_CMT</code>  </a></li>
<li class="chapter" data-level="2.3.32" data-path="model-specification.html"><a href="model-specification.html#spec-r"><i class="fa fa-check"></i><b>2.3.32</b> <code>R_CMT</code>  </a></li>
<li class="chapter" data-level="2.3.33" data-path="model-specification.html"><a href="model-specification.html#rn"><i class="fa fa-check"></i><b>2.3.33</b> <code>Rn</code></a></li>
<li class="chapter" data-level="2.3.34" data-path="model-specification.html"><a href="model-specification.html#spec-d"><i class="fa fa-check"></i><b>2.3.34</b> <code>D_CMT</code>  </a></li>
<li class="chapter" data-level="2.3.35" data-path="model-specification.html"><a href="model-specification.html#nonmem-like-syntax"><i class="fa fa-check"></i><b>2.3.35</b> NONMEM-like syntax</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="model-specification.html"><a href="model-specification.html#reserved-words"><i class="fa fa-check"></i><b>2.4</b> Reserved words</a></li>
<li class="chapter" data-level="2.5" data-path="model-specification.html"><a href="model-specification.html#new-variables"><i class="fa fa-check"></i><b>2.5</b> Derive new variables</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="model-specification.html"><a href="model-specification.html#special-handling-for-double-int-bool"><i class="fa fa-check"></i><b>2.5.1</b> Special handling for <code>double</code>, <code>int</code>, <code>bool</code></a></li>
<li class="chapter" data-level="2.5.2" data-path="model-specification.html"><a href="model-specification.html#using-other-types-globally"><i class="fa fa-check"></i><b>2.5.2</b> Using other types globally</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="model-specification.html"><a href="model-specification.html#random-number-generation"><i class="fa fa-check"></i><b>2.6</b> Random number generation</a></li>
<li class="chapter" data-level="2.7" data-path="model-specification.html"><a href="model-specification.html#examples"><i class="fa fa-check"></i><b>2.7</b> Examples</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="model-specification.html"><a href="model-specification.html#simple-pk-model"><i class="fa fa-check"></i><b>2.7.1</b> Simple PK model</a></li>
<li class="chapter" data-level="2.7.2" data-path="model-specification.html"><a href="model-specification.html#pkpd-model"><i class="fa fa-check"></i><b>2.7.2</b> PK/PD model</a></li>
<li class="chapter" data-level="2.7.3" data-path="model-specification.html"><a href="model-specification.html#population-pk-model-with-covariates-and-iov"><i class="fa fa-check"></i><b>2.7.3</b> Population PK model with covariates and IOV</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data-set-chapter.html"><a href="data-set-chapter.html"><i class="fa fa-check"></i><b>3</b> Input data sets</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-set-chapter.html"><a href="data-set-chapter.html#datasets"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="data-set-chapter.html"><a href="data-set-chapter.html#data-set"><i class="fa fa-check"></i><b>3.2</b> Event data sets (<code>data</code>)</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-set-chapter.html"><a href="data-set-chapter.html#two-types-of-data_set"><i class="fa fa-check"></i><b>3.2.1</b> Two types of <code>data_set</code></a></li>
<li class="chapter" data-level="3.2.2" data-path="data-set-chapter.html"><a href="data-set-chapter.html#sorting-requirements"><i class="fa fa-check"></i><b>3.2.2</b> Sorting requirements</a></li>
<li class="chapter" data-level="3.2.3" data-path="data-set-chapter.html"><a href="data-set-chapter.html#creating-data-sets"><i class="fa fa-check"></i><b>3.2.3</b> Creating data sets</a></li>
<li class="chapter" data-level="3.2.4" data-path="data-set-chapter.html"><a href="data-set-chapter.html#example"><i class="fa fa-check"></i><b>3.2.4</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-set-chapter.html"><a href="data-set-chapter.html#idata-set"><i class="fa fa-check"></i><b>3.3</b> Individual data sets (<code>idata</code>)</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-set-chapter.html"><a href="data-set-chapter.html#use-case"><i class="fa fa-check"></i><b>3.3.1</b> Use case</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="data-set-chapter.html"><a href="data-set-chapter.html#numeric-only"><i class="fa fa-check"></i><b>3.4</b> Numeric data only</a></li>
<li class="chapter" data-level="3.5" data-path="data-set-chapter.html"><a href="data-set-chapter.html#valid_data_set"><i class="fa fa-check"></i><b>3.5</b> Data set validation</a></li>
<li class="chapter" data-level="3.6" data-path="data-set-chapter.html"><a href="data-set-chapter.html#pred-data"><i class="fa fa-check"></i><b>3.6</b> Data sets for use with <code>$PRED</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="event-chapter.html"><a href="event-chapter.html"><i class="fa fa-check"></i><b>4</b> Event objects</a>
<ul>
<li class="chapter" data-level="4.1" data-path="event-chapter.html"><a href="event-chapter.html#usage"><i class="fa fa-check"></i><b>4.1</b> Usage</a></li>
<li class="chapter" data-level="4.2" data-path="event-chapter.html"><a href="event-chapter.html#construction"><i class="fa fa-check"></i><b>4.2</b> Construction</a></li>
<li class="chapter" data-level="4.3" data-path="event-chapter.html"><a href="event-chapter.html#coerce-to-data-set"><i class="fa fa-check"></i><b>4.3</b> Coerce to data set</a></li>
<li class="chapter" data-level="4.4" data-path="event-chapter.html"><a href="event-chapter.html#extract-information"><i class="fa fa-check"></i><b>4.4</b> Extract information</a></li>
<li class="chapter" data-level="4.5" data-path="event-chapter.html"><a href="event-chapter.html#combining-event-objects"><i class="fa fa-check"></i><b>4.5</b> Combining event objects</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="event-chapter.html"><a href="event-chapter.html#concatenate"><i class="fa fa-check"></i><b>4.5.1</b> Concatenate</a></li>
<li class="chapter" data-level="4.5.2" data-path="event-chapter.html"><a href="event-chapter.html#sequence"><i class="fa fa-check"></i><b>4.5.2</b> Sequence</a></li>
<li class="chapter" data-level="4.5.3" data-path="event-chapter.html"><a href="event-chapter.html#repeat"><i class="fa fa-check"></i><b>4.5.3</b> repeat</a></li>
<li class="chapter" data-level="4.5.4" data-path="event-chapter.html"><a href="event-chapter.html#create-a-data_set"><i class="fa fa-check"></i><b>4.5.4</b> Create a “data_set”</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="event-chapter.html"><a href="event-chapter.html#modifying-an-event-object"><i class="fa fa-check"></i><b>4.6</b> Modifying an event object</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="event-chapter.html"><a href="event-chapter.html#tidy-like-manipulation"><i class="fa fa-check"></i><b>4.6.1</b> Tidy-like manipulation</a></li>
<li class="chapter" data-level="4.6.2" data-path="event-chapter.html"><a href="event-chapter.html#realize_addl"><i class="fa fa-check"></i><b>4.6.2</b> realize_addl</a></li>
<li class="chapter" data-level="4.6.3" data-path="event-chapter.html"><a href="event-chapter.html#ev_rep"><i class="fa fa-check"></i><b>4.6.3</b> ev_rep</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="event-chapter.html"><a href="event-chapter.html#creative-composition"><i class="fa fa-check"></i><b>4.7</b> Creative composition</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="event-chapter.html"><a href="event-chapter.html#ev_days"><i class="fa fa-check"></i><b>4.7.1</b> ev_days</a></li>
<li class="chapter" data-level="4.7.2" data-path="event-chapter.html"><a href="event-chapter.html#ev_rx"><i class="fa fa-check"></i><b>4.7.2</b> ev_rx</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="simulated-output.html"><a href="simulated-output.html"><i class="fa fa-check"></i><b>5</b> Simulated output</a>
<ul>
<li class="chapter" data-level="5.1" data-path="simulated-output.html"><a href="simulated-output.html#output-types"><i class="fa fa-check"></i><b>5.1</b> Output types</a></li>
<li class="chapter" data-level="5.2" data-path="simulated-output.html"><a href="simulated-output.html#methods-for-mrgsim-output"><i class="fa fa-check"></i><b>5.2</b> Methods for mrgsim output</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="simulated-output.html"><a href="simulated-output.html#coercion-methods"><i class="fa fa-check"></i><b>5.2.1</b> Coercion methods</a></li>
<li class="chapter" data-level="5.2.2" data-path="simulated-output.html"><a href="simulated-output.html#query-methods"><i class="fa fa-check"></i><b>5.2.2</b> Query methods</a></li>
<li class="chapter" data-level="5.2.3" data-path="simulated-output.html"><a href="simulated-output.html#graphical-methods"><i class="fa fa-check"></i><b>5.2.3</b> Graphical methods</a></li>
<li class="chapter" data-level="5.2.4" data-path="simulated-output.html"><a href="simulated-output.html#methods-for-dplyr-verbs"><i class="fa fa-check"></i><b>5.2.4</b> Methods for <code>dplyr</code> verbs</a></li>
<li class="chapter" data-level="5.2.5" data-path="simulated-output.html"><a href="simulated-output.html#modify-methods"><i class="fa fa-check"></i><b>5.2.5</b> Modify methods</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="simulated-output.html"><a href="simulated-output.html#controlling-output-scope"><i class="fa fa-check"></i><b>5.3</b> Controlling output scope</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="simulated-output.html"><a href="simulated-output.html#background"><i class="fa fa-check"></i><b>5.3.1</b> Background</a></li>
<li class="chapter" data-level="5.3.2" data-path="simulated-output.html"><a href="simulated-output.html#implementation"><i class="fa fa-check"></i><b>5.3.2</b> Implementation</a></li>
<li class="chapter" data-level="5.3.3" data-path="simulated-output.html"><a href="simulated-output.html#copy-items-from-data-to-simulated-output"><i class="fa fa-check"></i><b>5.3.3</b> Copy items from data to simulated output</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="section-sequence.html"><a href="section-sequence.html"><i class="fa fa-check"></i><b>6</b> Simulation sequence</a>
<ul>
<li class="chapter" data-level="6.1" data-path="section-sequence.html"><a href="section-sequence.html#functions-to-call"><i class="fa fa-check"></i><b>6.1</b> Functions to call</a></li>
<li class="chapter" data-level="6.2" data-path="section-sequence.html"><a href="section-sequence.html#problem-initiation"><i class="fa fa-check"></i><b>6.2</b> Problem initiation</a></li>
<li class="chapter" data-level="6.3" data-path="section-sequence.html"><a href="section-sequence.html#subject-initiation"><i class="fa fa-check"></i><b>6.3</b> Subject initiation</a></li>
<li class="chapter" data-level="6.4" data-path="section-sequence.html"><a href="section-sequence.html#sequence-for-a-single-record"><i class="fa fa-check"></i><b>6.4</b> Sequence for a single record</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="steady-state.html"><a href="steady-state.html"><i class="fa fa-check"></i><b>7</b> Steady state</a>
<ul>
<li class="chapter" data-level="7.1" data-path="steady-state.html"><a href="steady-state.html#key-information"><i class="fa fa-check"></i><b>7.1</b> Key information</a></li>
<li class="chapter" data-level="7.2" data-path="steady-state.html"><a href="steady-state.html#introduction-1"><i class="fa fa-check"></i><b>7.2</b> Introduction</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="steady-state.html"><a href="steady-state.html#intermittent-doses"><i class="fa fa-check"></i><b>7.2.1</b> Intermittent doses</a></li>
<li class="chapter" data-level="7.2.2" data-path="steady-state.html"><a href="steady-state.html#continuous-infusion"><i class="fa fa-check"></i><b>7.2.2</b> Continuous infusion</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="steady-state.html"><a href="steady-state.html#advance-to-ss"><i class="fa fa-check"></i><b>7.3</b> Advance to SS</a></li>
<li class="chapter" data-level="7.4" data-path="steady-state.html"><a href="steady-state.html#control-advance-to-ss"><i class="fa fa-check"></i><b>7.4</b> Control advance to SS</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="steady-state.html"><a href="steady-state.html#tolerances-for-ss"><i class="fa fa-check"></i><b>7.4.1</b> Tolerances for SS</a></li>
<li class="chapter" data-level="7.4.2" data-path="steady-state.html"><a href="steady-state.html#max-dose-number"><i class="fa fa-check"></i><b>7.4.2</b> Max dose number</a></li>
<li class="chapter" data-level="7.4.3" data-path="steady-state.html"><a href="steady-state.html#include-exclude-compartments-for-ss"><i class="fa fa-check"></i><b>7.4.3</b> Include / exclude compartments for SS</a></li>
<li class="chapter" data-level="7.4.4" data-path="steady-state.html"><a href="steady-state.html#ss_advance-flag"><i class="fa fa-check"></i><b>7.4.4</b> SS_ADVANCE flag</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="plugins.html"><a href="plugins.html"><i class="fa fa-check"></i><b>8</b> Plugins</a>
<ul>
<li class="chapter" data-level="8.1" data-path="plugins.html"><a href="plugins.html#plugin-autodec"><i class="fa fa-check"></i><b>8.1</b> autodec</a></li>
<li class="chapter" data-level="8.2" data-path="plugins.html"><a href="plugins.html#plugin-nm-vars"><i class="fa fa-check"></i><b>8.2</b> nm-vars</a></li>
<li class="chapter" data-level="8.3" data-path="plugins.html"><a href="plugins.html#plugin-tad"><i class="fa fa-check"></i><b>8.3</b> tad</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="plugins.html"><a href="plugins.html#note"><i class="fa fa-check"></i><b>8.3.1</b> Note</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="plugins.html"><a href="plugins.html#plugin-cxx11"><i class="fa fa-check"></i><b>8.4</b> CXX11</a></li>
<li class="chapter" data-level="8.5" data-path="plugins.html"><a href="plugins.html#plugin-rcpp"><i class="fa fa-check"></i><b>8.5</b> Rcpp</a></li>
<li class="chapter" data-level="8.6" data-path="plugins.html"><a href="plugins.html#plugin-mrgx"><i class="fa fa-check"></i><b>8.6</b> mrgx</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="plugins.html"><a href="plugins.html#get-the-model-environment"><i class="fa fa-check"></i><b>8.6.1</b> Get the model environment</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="plugins.html"><a href="plugins.html#extract-an-object-from-the-model-environment"><i class="fa fa-check"></i><b>8.7</b> Extract an object from the model environment</a></li>
<li class="chapter" data-level="8.8" data-path="plugins.html"><a href="plugins.html#rcpparmadillo"><i class="fa fa-check"></i><b>8.8</b> RcppArmadillo</a></li>
<li class="chapter" data-level="8.9" data-path="plugins.html"><a href="plugins.html#bh"><i class="fa fa-check"></i><b>8.9</b> BH</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mtime.html"><a href="mtime.html"><i class="fa fa-check"></i><b>9</b> Modeled events</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mtime.html"><a href="mtime.html#simple-mtime"><i class="fa fa-check"></i><b>9.1</b> Simple MTIME</a></li>
<li class="chapter" data-level="9.2" data-path="mtime.html"><a href="mtime.html#mtime-with-specific-evid"><i class="fa fa-check"></i><b>9.2</b> MTIME with specific EVID</a></li>
<li class="chapter" data-level="9.3" data-path="mtime.html"><a href="mtime.html#modeled-doses"><i class="fa fa-check"></i><b>9.3</b> Modeled doses</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="topics.html"><a href="topics.html"><i class="fa fa-check"></i><b>10</b> Topics</a>
<ul>
<li class="chapter" data-level="10.1" data-path="topics.html"><a href="topics.html#topic-annotated"><i class="fa fa-check"></i><b>10.1</b> Annotated model specification</a></li>
<li class="chapter" data-level="10.2" data-path="topics.html"><a href="topics.html#topic-init"><i class="fa fa-check"></i><b>10.2</b> Set initial conditions</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="topics.html"><a href="topics.html#summary"><i class="fa fa-check"></i><b>10.2.1</b> Summary</a></li>
<li class="chapter" data-level="10.2.2" data-path="topics.html"><a href="topics.html#make-a-model-only-to-examine-init-behavior"><i class="fa fa-check"></i><b>10.2.2</b> Make a model only to examine <code>init</code> behavior</a></li>
<li class="chapter" data-level="10.2.3" data-path="topics.html"><a href="topics.html#example-pkpd-model-with-initial-condition"><i class="fa fa-check"></i><b>10.2.3</b> Example PK/PD model with initial condition</a></li>
<li class="chapter" data-level="10.2.4" data-path="topics.html"><a href="topics.html#remember-calling-init-will-let-you-check-to-see-what-is-going-on"><i class="fa fa-check"></i><b>10.2.4</b> Remember: calling <code>init</code> will let you check to see what is going on</a></li>
<li class="chapter" data-level="10.2.5" data-path="topics.html"><a href="topics.html#set-initial-conditions-via-idata"><i class="fa fa-check"></i><b>10.2.5</b> Set initial conditions via <code>idata</code></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="topics.html"><a href="topics.html#topic-parameter-update"><i class="fa fa-check"></i><b>10.3</b> Updating parameters</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="topics.html"><a href="topics.html#parameter-update-hierarchy"><i class="fa fa-check"></i><b>10.3.1</b> Parameter update hierarchy</a></li>
<li class="chapter" data-level="10.3.2" data-path="topics.html"><a href="topics.html#topic-parameter-update-base"><i class="fa fa-check"></i><b>10.3.2</b> Updating the base parameter list</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="topics.html"><a href="topics.html#topic-tgrid"><i class="fa fa-check"></i><b>10.4</b> Time grid objects</a></li>
<li class="chapter" data-level="10.5" data-path="topics.html"><a href="topics.html#topic-designs"><i class="fa fa-check"></i><b>10.5</b> Individualized sampling designs</a></li>
<li class="chapter" data-level="10.6" data-path="topics.html"><a href="topics.html#some-helpful-c"><i class="fa fa-check"></i><b>10.6</b> Some helpful <code>C++</code></a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="topics.html"><a href="topics.html#semi-colons"><i class="fa fa-check"></i><b>10.6.1</b> Semi-colons</a></li>
<li class="chapter" data-level="10.6.2" data-path="topics.html"><a href="topics.html#if-else"><i class="fa fa-check"></i><b>10.6.2</b> if-else</a></li>
<li class="chapter" data-level="10.6.3" data-path="topics.html"><a href="topics.html#functions-1"><i class="fa fa-check"></i><b>10.6.3</b> Functions</a></li>
<li class="chapter" data-level="10.6.4" data-path="topics.html"><a href="topics.html#integer-division"><i class="fa fa-check"></i><b>10.6.4</b> Integer division</a></li>
<li class="chapter" data-level="10.6.5" data-path="topics.html"><a href="topics.html#pre-processor-directives"><i class="fa fa-check"></i><b>10.6.5</b> Pre-processor directives</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="topics.html"><a href="topics.html#resimulate-eta-and-eps"><i class="fa fa-check"></i><b>10.7</b> Resimulate <code>ETA</code> and <code>EPS</code></a></li>
<li class="chapter" data-level="10.8" data-path="topics.html"><a href="topics.html#topic-matrix-update"><i class="fa fa-check"></i><b>10.8</b> Updating <code>$OMEGA</code> and <code>$SIGMA</code>  </a>
<ul>
<li class="chapter" data-level="10.8.1" data-path="topics.html"><a href="topics.html#matrix-helper-functions"><i class="fa fa-check"></i><b>10.8.1</b> Matrix helper functions</a></li>
<li class="chapter" data-level="10.8.2" data-path="topics.html"><a href="topics.html#fill-a-matrix-with-zeros"><i class="fa fa-check"></i><b>10.8.2</b> Fill a matrix with zeros</a></li>
<li class="chapter" data-level="10.8.3" data-path="topics.html"><a href="topics.html#example-unnamed-matrix"><i class="fa fa-check"></i><b>10.8.3</b> Example: unnamed matrix</a></li>
<li class="chapter" data-level="10.8.4" data-path="topics.html"><a href="topics.html#example-named-matrices"><i class="fa fa-check"></i><b>10.8.4</b> Example: named matrices</a></li>
<li class="chapter" data-level="10.8.5" data-path="topics.html"><a href="topics.html#example-unnamed-matrices"><i class="fa fa-check"></i><b>10.8.5</b> Example: unnamed matrices</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="topics.html"><a href="topics.html#topics-time-varying"><i class="fa fa-check"></i><b>10.9</b> Time varying covariates</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="q-and-a.html"><a href="q-and-a.html"><i class="fa fa-check"></i><b>11</b> Questions and Answers</a>
<ul>
<li class="chapter" data-level="11.1" data-path="q-and-a.html"><a href="q-and-a.html#can-i-interrupt-a-simulation"><i class="fa fa-check"></i><b>11.1</b> Can I interrupt a simulation?</a></li>
<li class="chapter" data-level="11.2" data-path="q-and-a.html"><a href="q-and-a.html#can-i-pass-compiler-flags-to-my-model"><i class="fa fa-check"></i><b>11.2</b> Can I pass compiler flags to my model?</a></li>
<li class="chapter" data-level="11.3" data-path="q-and-a.html"><a href="q-and-a.html#can-i-compile-my-model-with-c11"><i class="fa fa-check"></i><b>11.3</b> Can I compile my model with <code>C++11</code>?</a></li>
<li class="chapter" data-level="11.4" data-path="q-and-a.html"><a href="q-and-a.html#how-can-i-calculate-time-after-dose"><i class="fa fa-check"></i><b>11.4</b> How can I calculate time after dose?</a></li>
<li class="chapter" data-level="11.5" data-path="q-and-a.html"><a href="q-and-a.html#my-model-failed-to-compile-what-now"><i class="fa fa-check"></i><b>11.5</b> My model failed to compile; what now?</a></li>
<li class="chapter" data-level="11.6" data-path="q-and-a.html"><a href="q-and-a.html#can-i-run-mrgsolve-on-a-network-drive"><i class="fa fa-check"></i><b>11.6</b> Can I run mrgsolve on a network drive?</a></li>
<li class="chapter" data-level="11.7" data-path="q-and-a.html"><a href="q-and-a.html#can-i-run-mrgsolve-on-a-cloud-synced-folder"><i class="fa fa-check"></i><b>11.7</b> Can I run mrgsolve on a cloud-synced folder?</a></li>
<li class="chapter" data-level="11.8" data-path="q-and-a.html"><a href="q-and-a.html#can-i-run-mrgsolve-in-a-path-that-includes-spaces"><i class="fa fa-check"></i><b>11.8</b> Can I run mrgsolve in a path that includes spaces?</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>12</b> Installation</a></li>
<li class="divider"></li>
<li><a href="https://mrgsolve.github.io" target="blank">https://mrgsolve.github.io</a></li>
<li><a href="https:/metrumrg.com" target="blank">https://metrumrg.com</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">mrgsolve User Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="section-sequence" class="section level1" number="6">
<h1><span class="header-section-number">Chapter 6</span> Simulation sequence</h1>
<p>This section is intended to help the user understand
the steps <code>mrgsolve</code> takes when working through
a simulation problem. The focus is on the order
in which <code>mrgsolve</code> calls different user-defined
functions as well as when parameter updates
and output writing happens during the simulation
sequence.</p>
<div id="functions-to-call" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Functions to call</h2>
<p>The model specification results in the definition
of four functions that <code>mrgsolve</code> calls during the
simulation sequence. Naming them by
their code block identifiers, the functions are</p>
<ol style="list-style-type: decimal">
<li><code>$PREAMBLE</code></li>
<li><code>$MAIN</code></li>
<li><code>$ODE</code></li>
<li><code>$TABLE</code></li>
</ol>
</div>
<div id="problem-initiation" class="section level2" number="6.2">
<h2><span class="header-section-number">6.2</span> Problem initiation</h2>
<p>Just prior to starting the problem (when <code>NEWIND</code> is
equal to <code>0</code>), <code>mrgsolve</code> calls <code>$PREAMBLE</code>. This function is only called
once during the simulation sequence. The goal of <code>$PREAMBLE</code> is to allow
the user to work with different <code>C++</code> data structures to get them ready for
the simulation run.</p>
</div>
<div id="subject-initiation" class="section level2" number="6.3">
<h2><span class="header-section-number">6.3</span> Subject initiation</h2>
<p>After the <code>$PREAMBLE</code> call, <code>mrgsolve</code> simulates
each <code>ID</code> in the data set, one after another. <code>mrgsolve</code> runs this sequence
just prior to simulating a given <code>ID</code></p>
<ol style="list-style-type: decimal">
<li>Copy any parameters that are found in the <code>idata_set</code> to the working
parameter list</li>
<li>Copy any parameters that are found in
the <code>data_set</code> to the working parameter list,
with the copy being taken from the first actual
data set row for that individual. If the
first actual data set record in the data set
is not the first record for the individual,
<code>mrgsolve</code> still copies from the first data
set record as long as the <code>fillbak</code> argument
to <code>mrgsim</code> is <code>TRUE</code>.</li>
<li>Set initial estimates from the base
initial estimate list</li>
<li>Copy initial estimates from <code>idata_set</code> if they
are found there.</li>
<li>Call <code>$MAIN</code></li>
<li>Start simulating the records for that individual</li>
</ol>
</div>
<div id="sequence-for-a-single-record" class="section level2" number="6.4">
<h2><span class="header-section-number">6.4</span> Sequence for a single record</h2>
<p><code>mrgsolve</code> executes this sequence while working
from record to record for a given <code>ID</code></p>
<ol style="list-style-type: decimal">
<li>If <code>nocb</code> (next observation carried backward) is <code>TRUE</code>, then parameters
are copied from the current record if that is an actual data set record.
Note that if <code>nocb</code> is <code>FALSE</code> then <code>locf</code> (first observation carried forward)
is assumed to be <code>TRUE</code> (see below). This is the last parameters will be
copied from any input data set prior to advancing the system (when <code>locf</code>
is being used). Therefore, when parameter columns are found in both
an <code>idata_set</code> and a <code>data_set</code>, it will be the value found in the <code>data_set</code>
that will overwrite both the base list and any parameter value that was
copied from an <code>idata_set</code>. It is not an error to have different parameter
values in an <code>idata_set</code> and a <code>data-set</code>, but the value found in the <code>data_set</code>
will be used when this happens. More on parameters and the parameter update
sequence can be found in sections <a href="topics.html#topic-parameter-update">10.3</a> and
<a href="model-components.html#component-param">1.1</a>.</li>
<li><code>$MAIN</code> is called</li>
<li>The system is advanced via <code>$ODE</code> or <code>$PKMODEL</code>,
whichever one is invoked in the model specification
file.</li>
<li>If the current record is a dosing record,
the dose is implemented (e.g. bolus made or
infusion started).</li>
<li>If the system is advancing according to
<code>locf</code>, then parameters are copied from
the current record if that is an actual data set
record. This is in contrast to <code>nocb</code> advance (see
above).</li>
<li>The <code>$TABLE</code> function is called</li>
<li>If the current record is marked for inclusion
in the simulated output, results are
written to the output matrix.</li>
<li>Continue to the next record in the individual.</li>
<li>Once the last record is processed in an
individual, a new individual is started.</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="simulated-output.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="steady-state.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["user-guide.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none",
"sharing": false
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
